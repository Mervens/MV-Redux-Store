{"code":"(this[\"webpackJsonpmern-client\"]=this[\"webpackJsonpmern-client\"]||[]).push([[0],{57:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){\"use strict\";n.r(t);var c=n(2),r=n.n(c),a=n(32),i=n.n(a),s=(n(57),n(10)),o=n(7),l=n(14),d=n(51),u=n(5);function j(e,t){return 1===t?e:e+\"s\"}function b(e,t,n){return new Promise((function(c,r){var a,i,s,o=window.indexedDB.open(\"shop-shop\",1);o.onupgradeneeded=function(e){var t=o.result;t.createObjectStore(\"products\",{keyPath:\"_id\"}),t.createObjectStore(\"categories\",{keyPath:\"_id\"}),t.createObjectStore(\"cart\",{keyPath:\"_id\"})},o.onerror=function(e){console.log(\"There was an error\")},o.onsuccess=function(r){switch(a=o.result,i=a.transaction(e,\"readwrite\"),s=i.objectStore(e),a.onerror=function(e){console.log(\"error\",e)},t){case\"put\":s.put(n),c(n);break;case\"get\":var l=s.getAll();l.onsuccess=function(){c(l.result)};break;case\"delete\":s.delete(n._id);break;default:console.log(\"No valid method\")}i.oncomplete=function(){a.close()}}}))}var p=n(8),h=\"UPDATE_PRODUCTS\",O=\"ADD_TO_CART\",m=\"ADD_MULTIPLE_TO_CART\",f=\"REMOVE_FROM_CART\",x=\"CLEAR_CART\",g=\"UPDATE_CART_QUANTITY\",v=\"TOGGLE_CART\",y=\"UPDATE_CATEGORIES\",w=\"UPDATE_CURRENT_CATEGORY\",_=n(0);var k,N,C,S,T,E=function(e){var t=Object(p.b)(),n=Object(p.c)((function(e){return e})),c=e.image,r=e.name,a=e._id,i=e.price,o=e.quantity,l=n.cart;return Object(_.jsxs)(\"div\",{className:\"card px-1 py-1\",children:[Object(_.jsxs)(s.b,{to:\"/products/\".concat(a),children:[Object(_.jsx)(\"img\",{alt:r,src:\"/images/\".concat(c)}),Object(_.jsx)(\"p\",{children:r})]}),Object(_.jsxs)(\"div\",{children:[Object(_.jsxs)(\"div\",{children:[o,\" \",j(\"item\",o),\" in stock\"]}),Object(_.jsxs)(\"span\",{children:[\"$\",i]})]}),Object(_.jsx)(\"button\",{onClick:function(){var n=l.find((function(e){return e._id===a}));n?(t({type:g,_id:a,purchaseQuantity:parseInt(n.purchaseQuantity)+1}),b(\"cart\",\"put\",Object(u.a)(Object(u.a)({},n),{},{purchaseQuantity:parseInt(n.purchaseQuantity)+1}))):(t({type:O,product:Object(u.a)(Object(u.a)({},e),{},{purchaseQuantity:1})}),b(\"cart\",\"put\",Object(u.a)(Object(u.a)({},e),{},{purchaseQuantity:1})))},children:\"Add to cart\"})]})},A=n(12),$=n(24),I=n(22),D=Object(I.a)(k||(k=Object($.a)([\"\\n  query getProducts($category: ID) {\\n    products(category: $category) {\\n      _id\\n      name\\n      description\\n      price\\n      quantity\\n      image\\n      category {\\n        _id\\n      }\\n    }\\n  }\\n\"]))),Q=Object(I.a)(N||(N=Object($.a)([\"\\n  query getCheckout($products: [ID]!) {\\n    checkout(products: $products) {\\n      session\\n    }\\n  }\\n\"]))),P=(Object(I.a)(C||(C=Object($.a)([\"\\n  {\\n    products {\\n      _id\\n      name\\n      description\\n      price\\n      quantity\\n      category {\\n        name\\n      }\\n    }\\n  }\\n\"]))),Object(I.a)(S||(S=Object($.a)([\"\\n{\\n  categories {\\n    _id\\n    name\\n  }\\n}\\n\"])))),R=Object(I.a)(T||(T=Object($.a)([\"\\n{\\n  user {\\n    firstName\\n    lastName\\n    orders {\\n      _id\\n      purchaseDate\\n      products {\\n        _id\\n        name\\n        description\\n        price\\n        quantity\\n        image\\n      }\\n    }\\n  }\\n}\\n\"]))),F=n.p+\"static/media/spinner.689d9a07.gif\";var U=function(){var e=Object(p.b)(),t=Object(p.c)((function(e){return e})),n=t.currentCategory,r=Object(A.c)(D),a=r.loading,i=r.data;return Object(c.useEffect)((function(){i?(e({type:h,products:i.products}),i.products.forEach((function(e){b(\"products\",\"put\",e)}))):a||b(\"products\",\"get\").then((function(t){e({type:h,products:t})}))}),[i,a,e]),Object(_.jsxs)(\"div\",{className:\"my-2\",children:[Object(_.jsx)(\"h2\",{children:\"Our Products:\"}),t.products.length?Object(_.jsx)(\"div\",{className:\"flex-row\",children:(n?t.products.filter((function(e){return e.category._id===n})):t.products).map((function(e){return Object(_.jsx)(E,{_id:e._id,image:e.image,name:e.name,price:e.price,quantity:e.quantity},e._id)}))}):Object(_.jsx)(\"h3\",{children:\"You haven't added any products yet!\"}),a?Object(_.jsx)(\"img\",{src:F,alt:\"loading\"}):null]})};var L=function(){var e=Object(p.b)(),t=Object(p.c)((function(e){return e})).categories,n=Object(A.c)(P),r=n.loading,a=n.data;return Object(c.useEffect)((function(){a?(e({type:y,categories:a.categories}),a.categories.forEach((function(e){b(\"categories\",\"put\",e)}))):r||b(\"categories\",\"get\").then((function(t){e({type:y,categories:t})}))}),[a,r,e]),Object(_.jsxs)(\"div\",{children:[Object(_.jsx)(\"h2\",{children:\"Choose a Category:\"}),t.map((function(t){return Object(_.jsx)(\"button\",{onClick:function(){var n;n=t._id,e({type:w,currentCategory:n})},children:t.name},t._id)}))]})},q=n(21),W=n.n(q),B=n(26),G=n(25),Y=n(20),M=n(48),H=function(e){var t=e.item,n=(Object(p.c)((function(e){return e})),Object(p.b)());return Object(_.jsxs)(\"div\",{className:\"flex-row\",children:[Object(_.jsx)(\"div\",{children:Object(_.jsx)(\"img\",{src:\"/images/\".concat(t.image),alt:\"\"})}),Object(_.jsxs)(\"div\",{children:[Object(_.jsxs)(\"div\",{children:[t.name,\", $\",t.price]}),Object(_.jsxs)(\"div\",{children:[Object(_.jsx)(\"span\",{children:\"Qty:\"}),Object(_.jsx)(\"input\",{type:\"number\",placeholder:\"1\",value:t.purchaseQuantity,onChange:function(e){var c=e.target.value;\"0\"===c?(n({type:f,_id:t._id}),b(\"cart\",\"delete\",Object(u.a)({},t))):(n({type:g,_id:t._id,purchaseQuantity:parseInt(c)}),b(\"cart\",\"put\",Object(u.a)(Object(u.a)({},t),{},{purchaseQuantity:parseInt(c)})))}}),Object(_.jsx)(\"span\",{role:\"img\",\"aria-label\":\"trash\",onClick:function(){return function(e){n({type:f,_id:e._id}),b(\"cart\",\"delete\",Object(u.a)({},e))}(t)},children:\"\\ud83d\\uddd1\\ufe0f\"})]})]})]})},J=n(49),z=n(50),V=n(39),K=n.n(V),X=new(function(){function e(){Object(J.a)(this,e)}return Object(z.a)(e,[{key:\"getProfile\",value:function(){return K()(this.getToken())}},{key:\"loggedIn\",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:\"isTokenExpired\",value:function(e){try{return K()(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:\"getToken\",value:function(){return localStorage.getItem(\"id_token\")}},{key:\"login\",value:function(e){localStorage.setItem(\"id_token\",e),window.location.assign(\"/\")}},{key:\"logout\",value:function(){localStorage.removeItem(\"id_token\"),window.location.assign(\"/\")}}]),e}()),Z=(n(68),Object(M.a)(\"pk_test_TYooMQauvdEDq54NiTphI7jx\")),ee=function(){var e=Object(p.c)((function(e){return e})),t=Object(p.b)(),n=Object(A.a)(Q),r=Object(Y.a)(n,2),a=r[0],i=r[1].data;function s(){t({type:v})}return Object(c.useEffect)((function(){i&&Z.then((function(e){e.redirectToCheckout({sessionId:i.checkout.session})}))}),[i]),Object(c.useEffect)((function(){function n(){return(n=Object(G.a)(W.a.mark((function e(){var n;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(\"cart\",\"get\");case 2:n=e.sent,t({type:m,products:Object(B.a)(n)});case 4:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}e.cart.length||function(){n.apply(this,arguments)}()}),[e.cart.length,t]),e.cartOpen?Object(_.jsxs)(\"div\",{className:\"cart\",children:[Object(_.jsx)(\"div\",{className:\"close\",onClick:s,children:\"[close]\"}),Object(_.jsx)(\"h2\",{children:\"Shopping Cart\"}),e.cart.length?Object(_.jsxs)(\"div\",{children:[e.cart.map((function(e){return Object(_.jsx)(H,{item:e},e._id)})),Object(_.jsxs)(\"div\",{className:\"flex-row space-between\",children:[Object(_.jsxs)(\"strong\",{children:[\"Total: $\",function(){var t=0;return e.cart.forEach((function(e){t+=e.price*e.purchaseQuantity})),t.toFixed(2)}()]}),X.loggedIn()?Object(_.jsx)(\"button\",{onClick:function(){var t=[];e.cart.forEach((function(e){for(var n=0;n<e.purchaseQuantity;n++)t.push(e._id)})),a({variables:{products:t}})},children:\"Checkout\"}):Object(_.jsx)(\"span\",{children:\"(log in to check out)\"})]})]}):Object(_.jsxs)(\"h3\",{children:[Object(_.jsx)(\"span\",{role:\"img\",\"aria-label\":\"shocked\",children:\"\\ud83d\\ude31\"}),\"You haven't added anything to your cart yet!\"]})]}):Object(_.jsx)(\"div\",{className:\"cart-closed\",onClick:s,children:Object(_.jsx)(\"span\",{role:\"img\",\"aria-label\":\"trash\",children:\"\\ud83d\\uded2\"})})},te=function(){return Object(_.jsxs)(\"div\",{className:\"container\",children:[Object(_.jsx)(L,{}),Object(_.jsx)(U,{}),Object(_.jsx)(ee,{})]})};var ne=function(){var e=Object(p.b)(),t=Object(p.c)((function(e){return e})),n=Object(o.f)().id,r=Object(c.useState)({}),a=Object(Y.a)(r,2),i=a[0],l=a[1],d=Object(A.c)(D),j=d.loading,m=d.data,x=t.products,v=t.cart;return Object(c.useEffect)((function(){x.length?l(x.find((function(e){return e._id===n}))):m?(e({type:h,products:m.products}),m.products.forEach((function(e){b(\"products\",\"put\",e)}))):j||b(\"products\",\"get\").then((function(t){e({type:h,products:t})}))}),[x,m,j,e,n]),Object(_.jsxs)(_.Fragment,{children:[i&&v?Object(_.jsxs)(\"div\",{className:\"container my-1\",children:[Object(_.jsx)(s.b,{to:\"/\",children:\"\\u2190 Back to Products\"}),Object(_.jsx)(\"h2\",{children:i.name}),Object(_.jsx)(\"p\",{children:i.description}),Object(_.jsxs)(\"p\",{children:[Object(_.jsx)(\"strong\",{children:\"Price:\"}),\"$\",i.price,\" \",Object(_.jsx)(\"button\",{onClick:function(){var t=v.find((function(e){return e._id===n}));t?(e({type:g,_id:n,purchaseQuantity:parseInt(t.purchaseQuantity)+1}),b(\"cart\",\"put\",Object(u.a)(Object(u.a)({},t),{},{purchaseQuantity:parseInt(t.purchaseQuantity)+1}))):(e({type:O,product:Object(u.a)(Object(u.a)({},i),{},{purchaseQuantity:1})}),b(\"cart\",\"put\",Object(u.a)(Object(u.a)({},i),{},{purchaseQuantity:1})))},children:\"Add to Cart\"}),Object(_.jsx)(\"button\",{disabled:!v.find((function(e){return e._id===i._id})),onClick:function(){e({type:f,_id:i._id}),b(\"cart\",\"delete\",Object(u.a)({},i))},children:\"Remove from Cart\"})]}),Object(_.jsx)(\"img\",{src:\"/images/\".concat(i.image),alt:i.name})]}):null,j?Object(_.jsx)(\"img\",{src:F,alt:\"loading\"}):null,Object(_.jsx)(ee,{})]})};var ce,re,ae,ie=function(e){var t=e.children;return Object(_.jsx)(\"div\",{style:{height:560,clear:\"both\",paddingTop:120,textAlign:\"center\"},children:t})},se=function(){return Object(_.jsx)(\"div\",{children:Object(_.jsxs)(ie,{children:[Object(_.jsx)(\"h1\",{children:\"404 Page Not Found\"}),Object(_.jsx)(\"h1\",{children:Object(_.jsx)(\"span\",{role:\"img\",\"aria-label\":\"Face With Rolling Eyes Emoji\",children:\"\\ud83d\\ude44\"})})]})})},oe=n(28),le=Object(I.a)(ce||(ce=Object($.a)([\"\\n  mutation login($email: String!, $password: String!) {\\n    login(email: $email, password: $password) {\\n      token\\n      user {\\n        _id\\n      }\\n    }\\n  }\\n\"]))),de=Object(I.a)(re||(re=Object($.a)([\"\\n  mutation addOrder($products: [ID]!) {\\n    addOrder(products: $products) {\\n      purchaseDate\\n      products {\\n        _id\\n      name\\n      description\\n      price\\n      quantity\\n      category {\\n        name\\n      } \\n      }\\n    }\\n  }\\n\"]))),ue=Object(I.a)(ae||(ae=Object($.a)([\"\\n  mutation addUser($firstName: String!, $lastName: String!, $email: String!, $password: String!) {\\n    addUser(firstName: $firstName, lastName: $lastName, email: $email, password: $password) {\\n      token\\n      user {\\n        _id\\n      }\\n    }\\n  }\\n\"])));var je=function(e){var t=Object(c.useState)({email:\"\",password:\"\"}),n=Object(Y.a)(t,2),r=n[0],a=n[1],i=Object(A.b)(le),o=Object(Y.a)(i,2),l=o[0],d=o[1].error,j=function(){var e=Object(G.a)(W.a.mark((function e(t){var n,c;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,l({variables:{email:r.email,password:r.password}});case 4:n=e.sent,c=n.data.login.token,X.login(c),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case\"end\":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),b=function(e){var t=e.target,n=t.name,c=t.value;a(Object(u.a)(Object(u.a)({},r),{},Object(oe.a)({},n,c)))};return Object(_.jsxs)(\"div\",{className:\"container my-1\",children:[Object(_.jsx)(s.b,{to:\"/signup\",children:\"\\u2190 Go to Signup\"}),Object(_.jsx)(\"h2\",{children:\"Login\"}),Object(_.jsxs)(\"form\",{onSubmit:j,children:[Object(_.jsxs)(\"div\",{className:\"flex-row space-between my-2\",children:[Object(_.jsx)(\"label\",{htmlFor:\"email\",children:\"Email address:\"}),Object(_.jsx)(\"input\",{placeholder:\"youremail@test.com\",name:\"email\",type:\"email\",id:\"email\",onChange:b})]}),Object(_.jsxs)(\"div\",{className:\"flex-row space-between my-2\",children:[Object(_.jsx)(\"label\",{htmlFor:\"pwd\",children:\"Password:\"}),Object(_.jsx)(\"input\",{placeholder:\"******\",name:\"password\",type:\"password\",id:\"pwd\",onChange:b})]}),d?Object(_.jsx)(\"div\",{children:Object(_.jsx)(\"p\",{className:\"error-text\",children:\"The provided credentials are incorrect\"})}):null,Object(_.jsx)(\"div\",{className:\"flex-row flex-end\",children:Object(_.jsx)(\"button\",{type:\"submit\",children:\"Submit\"})})]})]})};var be=function(e){var t=Object(c.useState)({email:\"\",password:\"\"}),n=Object(Y.a)(t,2),r=n[0],a=n[1],i=Object(A.b)(ue),o=Object(Y.a)(i,1)[0],l=function(){var e=Object(G.a)(W.a.mark((function e(t){var n,c;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,o({variables:{email:r.email,password:r.password,firstName:r.firstName,lastName:r.lastName}});case 3:n=e.sent,c=n.data.addUser.token,X.login(c);case 6:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(e){var t=e.target,n=t.name,c=t.value;a(Object(u.a)(Object(u.a)({},r),{},Object(oe.a)({},n,c)))};return Object(_.jsxs)(\"div\",{className:\"container my-1\",children:[Object(_.jsx)(s.b,{to:\"/login\",children:\"\\u2190 Go to Login\"}),Object(_.jsx)(\"h2\",{children:\"Signup\"}),Object(_.jsxs)(\"form\",{onSubmit:l,children:[Object(_.jsxs)(\"div\",{className:\"flex-row space-between my-2\",children:[Object(_.jsx)(\"label\",{htmlFor:\"firstName\",children:\"First Name:\"}),Object(_.jsx)(\"input\",{placeholder:\"First\",name:\"firstName\",type:\"firstName\",id:\"firstName\",onChange:d})]}),Object(_.jsxs)(\"div\",{className:\"flex-row space-between my-2\",children:[Object(_.jsx)(\"label\",{htmlFor:\"lastName\",children:\"Last Name:\"}),Object(_.jsx)(\"input\",{placeholder:\"Last\",name:\"lastName\",type:\"lastName\",id:\"lastName\",onChange:d})]}),Object(_.jsxs)(\"div\",{className:\"flex-row space-between my-2\",children:[Object(_.jsx)(\"label\",{htmlFor:\"email\",children:\"Email:\"}),Object(_.jsx)(\"input\",{placeholder:\"youremail@test.com\",name:\"email\",type:\"email\",id:\"email\",onChange:d})]}),Object(_.jsxs)(\"div\",{className:\"flex-row space-between my-2\",children:[Object(_.jsx)(\"label\",{htmlFor:\"pwd\",children:\"Password:\"}),Object(_.jsx)(\"input\",{placeholder:\"******\",name:\"password\",type:\"password\",id:\"pwd\",onChange:d})]}),Object(_.jsx)(\"div\",{className:\"flex-row flex-end\",children:Object(_.jsx)(\"button\",{type:\"submit\",children:\"Submit\"})})]})]})};var pe=function(){return Object(_.jsxs)(\"header\",{className:\"flex-row px-1\",children:[Object(_.jsx)(\"h1\",{children:Object(_.jsxs)(s.b,{to:\"/\",children:[Object(_.jsx)(\"span\",{role:\"img\",\"aria-label\":\"shopping bag\",children:\"\\ud83d\\udecd\\ufe0f\"}),\"-Shop-Shop\"]})}),Object(_.jsx)(\"nav\",{children:X.loggedIn()?Object(_.jsxs)(\"ul\",{className:\"flex-row\",children:[Object(_.jsx)(\"li\",{className:\"mx-1\",children:Object(_.jsx)(s.b,{to:\"/orderHistory\",children:\"Order History\"})}),Object(_.jsx)(\"li\",{className:\"mx-1\",children:Object(_.jsx)(\"a\",{href:\"/\",onClick:function(){return X.logout()},children:\"Logout\"})})]}):Object(_.jsxs)(\"ul\",{className:\"flex-row\",children:[Object(_.jsx)(\"li\",{className:\"mx-1\",children:Object(_.jsx)(s.b,{to:\"/signup\",children:\"Signup\"})}),Object(_.jsx)(\"li\",{className:\"mx-1\",children:Object(_.jsx)(s.b,{to:\"/login\",children:\"Login\"})})]})})]})},he=n(52),Oe={products:[],cart:[],cartOpen:!1,categories:[],currentCategory:\"\"},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(u.a)(Object(u.a)({},e),{},{products:Object(B.a)(t.products)});case O:return Object(u.a)(Object(u.a)({},e),{},{cartOpen:!0,cart:[].concat(Object(B.a)(e.cart),[t.product])});case m:return Object(u.a)(Object(u.a)({},e),{},{cart:[].concat(Object(B.a)(e.cart),Object(B.a)(t.products))});case g:return Object(u.a)(Object(u.a)({},e),{},{cartOpen:!0,cart:e.cart.map((function(e){return t._id===e._id&&(e.purchaseQuantity=t.purchaseQuantity),e}))});case f:var n=e.cart.filter((function(e){return e._id!==t._id}));return Object(u.a)(Object(u.a)({},e),{},{cartOpen:n.length>0,cart:n});case x:return Object(u.a)(Object(u.a)({},e),{},{cartOpen:!1,cart:[]});case v:return Object(u.a)(Object(u.a)({},e),{},{cartOpen:!e.cartOpen});case y:return Object(u.a)(Object(u.a)({},e),{},{categories:Object(B.a)(t.categories)});case w:return Object(u.a)(Object(u.a)({},e),{},{currentCategory:t.currentCategory});default:return e}},fe=Object(he.a)(me);var xe=function(){var e=Object(A.b)(de),t=Object(Y.a)(e,1)[0];return Object(c.useEffect)((function(){function e(){return(e=Object(G.a)(W.a.mark((function e(){var n,c,r,a;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(\"cart\",\"get\");case 2:if(n=e.sent,!(c=n.map((function(e){return e._id}))).length){e.next=11;break}return e.next=7,t({variables:{products:c}});case 7:r=e.sent,a=r.data,a.addOrder.products.forEach((function(e){b(\"cart\",\"delete\",e)}));case 11:setTimeout((function(){window.location.assign(\"/\")}),3e3);case 12:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),Object(_.jsx)(\"div\",{children:Object(_.jsxs)(ie,{children:[Object(_.jsx)(\"h1\",{children:\"Success!\"}),Object(_.jsx)(\"h2\",{children:\"Thank you for your purchase!\"}),Object(_.jsx)(\"h2\",{children:\"You will now be redirected to the home page\"})]})})};var ge=function(){var e,t=Object(A.c)(R).data;return t&&(e=t.user),Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)(\"div\",{className:\"container my-1\",children:[Object(_.jsx)(s.b,{to:\"/\",children:\"\\u2190 Back to Products\"}),e?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(\"h2\",{children:[\"Order History for \",e.firstName,\" \",e.lastName]}),e.orders.map((function(e){return Object(_.jsxs)(\"div\",{className:\"my-2\",children:[Object(_.jsx)(\"h3\",{children:new Date(parseInt(e.purchaseDate)).toLocaleDateString()}),Object(_.jsx)(\"div\",{className:\"flex-row\",children:e.products.map((function(e,t){var n=e._id,c=e.image,r=e.name,a=e.price;return Object(_.jsxs)(\"div\",{className:\"card px-1 py-1\",children:[Object(_.jsxs)(s.b,{to:\"/products/\".concat(n),children:[Object(_.jsx)(\"img\",{alt:r,src:\"/images/\".concat(c)}),Object(_.jsx)(\"p\",{children:r})]}),Object(_.jsx)(\"div\",{children:Object(_.jsxs)(\"span\",{children:[\"$\",a]})})]},t)}))})]},e._id)}))]}):null]})})},ve=new d.a({request:function(e){var t=localStorage.getItem(\"id_token\");e.setContext({headers:{authorization:t?\"Bearer \".concat(t):\"\"}})},uri:\"/graphql\"});var ye=function(){return Object(_.jsx)(l.a,{client:ve,children:Object(_.jsx)(s.a,{children:Object(_.jsx)(\"div\",{children:Object(_.jsxs)(p.a,{store:fe,children:[Object(_.jsx)(pe,{}),Object(_.jsxs)(o.c,{children:[Object(_.jsx)(o.a,{exact:!0,path:\"/\",component:te}),Object(_.jsx)(o.a,{exact:!0,path:\"/login\",component:je}),Object(_.jsx)(o.a,{exact:!0,path:\"/signup\",component:be}),Object(_.jsx)(o.a,{exact:!0,path:\"/success\",component:xe}),Object(_.jsx)(o.a,{exact:!0,path:\"/orderHistory\",component:ge}),Object(_.jsx)(o.a,{exact:!0,path:\"/products/:id\",component:ne}),Object(_.jsx)(o.a,{component:se})]})]})})})})},we=Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function _e(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){\"installed\"===n.state&&(navigator.serviceWorker.controller?(console.log(\"New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA.\"),t&&t.onUpdate&&t.onUpdate(e)):(console.log(\"Content is cached for offline use.\"),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error(\"Error during service worker registration:\",e)}))}i.a.render(Object(_.jsx)(r.a.StrictMode,{children:Object(_.jsx)(ye,{})}),document.getElementById(\"root\")),function(e){if(\"serviceWorker\"in navigator){if(new URL(\"\",window.location.href).origin!==window.location.origin)return;window.addEventListener(\"load\",(function(){var t=\"\".concat(\"\",\"/service-worker.js\");we?(!function(e,t){fetch(e,{headers:{\"Service-Worker\":\"script\"}}).then((function(n){var c=n.headers.get(\"content-type\");404===n.status||null!=c&&-1===c.indexOf(\"javascript\")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):_e(e,t)})).catch((function(){console.log(\"No internet connection found. App is running in offline mode.\")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log(\"This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA\")}))):_e(t,e)}))}}()}},[[69,1,2]]]);","name":"static/js/main.7b77f2d8.chunk.js","map":{"version":3,"sources":["static/js/main.7b77f2d8.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","react_router_dom","react_router","react_common_esm","bundle_esm","objectSpread2","pluralize","name","count","idbPromise","storeName","method","object","Promise","resolve","reject","db","tx","store","request","window","indexedDB","open","onupgradeneeded","e","result","createObjectStore","keyPath","onerror","console","log","onsuccess","transaction","objectStore","put","all","getAll","delete","_id","oncomplete","close","es","UPDATE_PRODUCTS","ADD_TO_CART","ADD_MULTIPLE_TO_CART","REMOVE_FROM_CART","CLEAR_CART","UPDATE_CART_QUANTITY","TOGGLE_CART","UPDATE_CATEGORIES","UPDATE_CURRENT_CATEGORY","jsx_runtime","_templateObject","_templateObject2","_templateObject3","_templateObject4","_templateObject5","components_ProductItem","item","dispatch","Object","state","image","price","quantity","cart","className","children","to","concat","alt","src","onClick","itemInCart","find","cartItem","type","purchaseQuantity","parseInt","product","react_hooks_esm","taggedTemplateLiteral","lib","QUERY_PRODUCTS","QUERY_CHECKOUT","QUERY_CATEGORIES","QUERY_USER","spinner","p","components_ProductList","currentCategory","_useQuery","loading","data","products","forEach","then","length","filter","category","map","components_CategoryMenu","categories","categoryData","id","regenerator","regenerator_default","toConsumableArray","asyncToGenerator","slicedToArray","stripe_esm","components_CartItem","_ref","placeholder","value","onChange","target","role","removeFromCart","classCallCheck","createClass","jwt_decode_lib","lib_default","auth","AuthService","key","getToken","token","isTokenExpired","exp","Date","now","err","localStorage","getItem","idToken","setItem","location","assign","removeItem","stripePromise","components_Cart","_useLazyQuery","_useLazyQuery2","getCheckout","toggleCart","res","redirectToCheckout","sessionId","checkout","session","_getCart","a","mark","_callee","wrap","_context","prev","next","sent","stop","apply","arguments","getCart","cartOpen","sum","toFixed","calculateTotal","loggedIn","productIds","i","variables","pages_Home","pages_Detail","_useState","_useState2","currentProduct","setCurrentProduct","indexedProducts","description","disabled","mutations_templateObject","mutations_templateObject2","mutations_templateObject3","components_Jumbotron","style","height","clear","paddingTop","textAlign","pages_NoMatch","defineProperty","LOGIN","ADD_ORDER","ADD_USER","pages_Login","props","email","password","formState","setFormState","_useMutation","_useMutation2","login","error","handleFormSubmit","event","mutationResponse","preventDefault","t0","_x","handleChange","_event$target","onSubmit","htmlFor","pages_Signup","addUser","firstName","lastName","components_Nav","href","logout","redux","initialState","reducers_reducer","undefined","action","newState","utils_store","pages_Success","addOrder","_saveOrder","_yield$addOrder","setTimeout","saveOrder","pages_OrderHistory","user","orders","order","purchaseDate","toLocaleDateString","index","client","operation","setContext","headers","authorization","uri","src_App","exact","path","component","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","render","StrictMode","document","getElementById","URL","origin","addEventListener","fetch","response","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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"},"input":"(this[\"webpackJsonpmern-client\"] = this[\"webpackJsonpmern-client\"] || []).push([[0],{\n\n/***/ 57:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 68:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 69:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(2);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(32);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(57);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/react-common/lib/react-common.esm.js\nvar react_common_esm = __webpack_require__(14);\n\n// EXTERNAL MODULE: ./node_modules/apollo-boost/lib/bundle.esm.js + 8 modules\nvar bundle_esm = __webpack_require__(51);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(5);\n\n// CONCATENATED MODULE: ./src/utils/helpers.js\nfunction pluralize(name,count){if(count===1){return name;}return name+'s';}function idbPromise(storeName,method,object){return new Promise(function(resolve,reject){var request=window.indexedDB.open('shop-shop',1);var db,tx,store;request.onupgradeneeded=function(e){var db=request.result;db.createObjectStore('products',{keyPath:'_id'});db.createObjectStore('categories',{keyPath:'_id'});db.createObjectStore('cart',{keyPath:'_id'});};request.onerror=function(e){console.log('There was an error');};request.onsuccess=function(e){db=request.result;tx=db.transaction(storeName,'readwrite');store=tx.objectStore(storeName);db.onerror=function(e){console.log('error',e);};switch(method){case'put':store.put(object);resolve(object);break;case'get':var all=store.getAll();all.onsuccess=function(){resolve(all.result);};break;case'delete':store.delete(object._id);break;default:console.log('No valid method');break;}tx.oncomplete=function(){db.close();};};});}\n// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 24 modules\nvar es = __webpack_require__(8);\n\n// CONCATENATED MODULE: ./src/utils/actions.js\nvar UPDATE_PRODUCTS=\"UPDATE_PRODUCTS\";var ADD_TO_CART=\"ADD_TO_CART\";var ADD_MULTIPLE_TO_CART=\"ADD_MULTIPLE_TO_CART\";var REMOVE_FROM_CART=\"REMOVE_FROM_CART\";var CLEAR_CART=\"CLEAR_CART\";var UPDATE_CART_QUANTITY=\"UPDATE_CART_QUANTITY\";var TOGGLE_CART=\"TOGGLE_CART\";var UPDATE_CATEGORIES=\"UPDATE_CATEGORIES\";var UPDATE_CURRENT_CATEGORY=\"UPDATE_CURRENT_CATEGORY\";\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/components/ProductItem/index.js\nfunction ProductItem(item){var dispatch=Object(es[\"b\" /* useDispatch */])();var state=Object(es[\"c\" /* useSelector */])(function(state){return state;});var image=item.image,name=item.name,_id=item._id,price=item.price,quantity=item.quantity;var cart=state.cart;var addToCart=function addToCart(){var itemInCart=cart.find(function(cartItem){return cartItem._id===_id;});if(itemInCart){dispatch({type:UPDATE_CART_QUANTITY,_id:_id,purchaseQuantity:parseInt(itemInCart.purchaseQuantity)+1});idbPromise('cart','put',Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},itemInCart),{},{purchaseQuantity:parseInt(itemInCart.purchaseQuantity)+1}));}else{dispatch({type:ADD_TO_CART,product:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},item),{},{purchaseQuantity:1})});idbPromise('cart','put',Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},item),{},{purchaseQuantity:1}));}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"card px-1 py-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router_dom[\"b\" /* Link */],{to:\"/products/\".concat(_id),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{alt:name,src:\"/images/\".concat(image)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:name})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[quantity,\" \",pluralize(\"item\",quantity),\" in stock\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{children:[\"$\",price]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:addToCart,children:\"Add to cart\"})]});}/* harmony default export */ var components_ProductItem = (ProductItem);\n// EXTERNAL MODULE: ./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js\nvar react_hooks_esm = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\nvar taggedTemplateLiteral = __webpack_require__(24);\n\n// EXTERNAL MODULE: ./node_modules/graphql-tag/lib/index.js + 15 modules\nvar lib = __webpack_require__(22);\n\n// CONCATENATED MODULE: ./src/utils/queries.js\nvar _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5;var QUERY_PRODUCTS=Object(lib[\"a\" /* default */])(_templateObject||(_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  query getProducts($category: ID) {\\n    products(category: $category) {\\n      _id\\n      name\\n      description\\n      price\\n      quantity\\n      image\\n      category {\\n        _id\\n      }\\n    }\\n  }\\n\"])));var QUERY_CHECKOUT=Object(lib[\"a\" /* default */])(_templateObject2||(_templateObject2=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  query getCheckout($products: [ID]!) {\\n    checkout(products: $products) {\\n      session\\n    }\\n  }\\n\"])));var QUERY_ALL_PRODUCTS=Object(lib[\"a\" /* default */])(_templateObject3||(_templateObject3=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  {\\n    products {\\n      _id\\n      name\\n      description\\n      price\\n      quantity\\n      category {\\n        name\\n      }\\n    }\\n  }\\n\"])));var QUERY_CATEGORIES=Object(lib[\"a\" /* default */])(_templateObject4||(_templateObject4=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n{\\n  categories {\\n    _id\\n    name\\n  }\\n}\\n\"])));var QUERY_USER=Object(lib[\"a\" /* default */])(_templateObject5||(_templateObject5=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n{\\n  user {\\n    firstName\\n    lastName\\n    orders {\\n      _id\\n      purchaseDate\\n      products {\\n        _id\\n        name\\n        description\\n        price\\n        quantity\\n        image\\n      }\\n    }\\n  }\\n}\\n\"])));\n// CONCATENATED MODULE: ./src/assets/spinner.gif\n/* harmony default export */ var spinner = (__webpack_require__.p + \"static/media/spinner.689d9a07.gif\");\n// CONCATENATED MODULE: ./src/components/ProductList/index.js\nfunction ProductList(){var dispatch=Object(es[\"b\" /* useDispatch */])();var state=Object(es[\"c\" /* useSelector */])(function(state){return state;});var currentCategory=state.currentCategory;var _useQuery=Object(react_hooks_esm[\"c\" /* useQuery */])(QUERY_PRODUCTS),loading=_useQuery.loading,data=_useQuery.data;Object(react[\"useEffect\"])(function(){if(data){dispatch({type:UPDATE_PRODUCTS,products:data.products});data.products.forEach(function(product){idbPromise('products','put',product);});}else if(!loading){idbPromise('products','get').then(function(products){dispatch({type:UPDATE_PRODUCTS,products:products});});}},[data,loading,dispatch]);function filterProducts(){if(!currentCategory){return state.products;}return state.products.filter(function(product){return product.category._id===currentCategory;});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"my-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Our Products:\"}),state.products.length?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"flex-row\",children:filterProducts().map(function(product){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_ProductItem,{_id:product._id,image:product.image,name:product.name,price:product.price,quantity:product.quantity},product._id);})}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"You haven't added any products yet!\"}),loading?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:spinner,alt:\"loading\"}):null]});}/* harmony default export */ var components_ProductList = (ProductList);\n// CONCATENATED MODULE: ./src/components/CategoryMenu/index.js\nfunction CategoryMenu(){var dispatch=Object(es[\"b\" /* useDispatch */])();var state=Object(es[\"c\" /* useSelector */])(function(state){return state;});var categories=state.categories;var _useQuery=Object(react_hooks_esm[\"c\" /* useQuery */])(QUERY_CATEGORIES),loading=_useQuery.loading,categoryData=_useQuery.data;Object(react[\"useEffect\"])(function(){if(categoryData){dispatch({type:UPDATE_CATEGORIES,categories:categoryData.categories});categoryData.categories.forEach(function(category){idbPromise('categories','put',category);});}else if(!loading){idbPromise('categories','get').then(function(categories){dispatch({type:UPDATE_CATEGORIES,categories:categories});});}},[categoryData,loading,dispatch]);var handleClick=function handleClick(id){dispatch({type:UPDATE_CURRENT_CATEGORY,currentCategory:id});};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Choose a Category:\"}),categories.map(function(item){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){handleClick(item._id);},children:item.name},item._id);})]});}/* harmony default export */ var components_CategoryMenu = (CategoryMenu);\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(21);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(26);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(25);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(20);\n\n// EXTERNAL MODULE: ./node_modules/@stripe/stripe-js/dist/stripe.esm.js\nvar stripe_esm = __webpack_require__(48);\n\n// CONCATENATED MODULE: ./src/components/CartItem/index.js\nvar CartItem_CartItem=function CartItem(_ref){var item=_ref.item;var state=Object(es[\"c\" /* useSelector */])(function(state){return state;});var dispatch=Object(es[\"b\" /* useDispatch */])();var removeFromCart=function removeFromCart(item){dispatch({type:REMOVE_FROM_CART,_id:item._id});idbPromise('cart','delete',Object(objectSpread2[\"a\" /* default */])({},item));};var onChange=function onChange(e){var value=e.target.value;if(value==='0'){dispatch({type:REMOVE_FROM_CART,_id:item._id});idbPromise('cart','delete',Object(objectSpread2[\"a\" /* default */])({},item));}else{dispatch({type:UPDATE_CART_QUANTITY,_id:item._id,purchaseQuantity:parseInt(value)});idbPromise('cart','put',Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},item),{},{purchaseQuantity:parseInt(value)}));}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex-row\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"/images/\".concat(item.image),alt:\"\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[item.name,\", $\",item.price]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"Qty:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"number\",placeholder:\"1\",value:item.purchaseQuantity,onChange:onChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{role:\"img\",\"aria-label\":\"trash\",onClick:function onClick(){return removeFromCart(item);},children:\"\\uD83D\\uDDD1\\uFE0F\"})]})]})]});};/* harmony default export */ var components_CartItem = (CartItem_CartItem);\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(49);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(50);\n\n// EXTERNAL MODULE: ./node_modules/jwt-decode/lib/index.js\nvar jwt_decode_lib = __webpack_require__(39);\nvar lib_default = /*#__PURE__*/__webpack_require__.n(jwt_decode_lib);\n\n// CONCATENATED MODULE: ./src/utils/auth.js\nvar auth_AuthService=/*#__PURE__*/function(){function AuthService(){Object(classCallCheck[\"a\" /* default */])(this,AuthService);}Object(createClass[\"a\" /* default */])(AuthService,[{key:\"getProfile\",value:function getProfile(){return lib_default()(this.getToken());}},{key:\"loggedIn\",value:function loggedIn(){// Checks if there is a saved token and it's still valid\nvar token=this.getToken();return!!token&&!this.isTokenExpired(token);}},{key:\"isTokenExpired\",value:function isTokenExpired(token){try{var decoded=lib_default()(token);if(decoded.exp<Date.now()/1000){return true;}else return false;}catch(err){return false;}}},{key:\"getToken\",value:function getToken(){// Retrieves the user token from localStorage\nreturn localStorage.getItem('id_token');}},{key:\"login\",value:function login(idToken){// Saves user token to localStorage\nlocalStorage.setItem('id_token',idToken);window.location.assign('/');}},{key:\"logout\",value:function logout(){// Clear user token and profile data from localStorage\nlocalStorage.removeItem('id_token');// this will reload the page and reset the state of the application\nwindow.location.assign('/');}}]);return AuthService;}();/* harmony default export */ var auth = (new auth_AuthService());\n// EXTERNAL MODULE: ./src/components/Cart/style.css\nvar style = __webpack_require__(68);\n\n// CONCATENATED MODULE: ./src/components/Cart/index.js\nvar stripePromise=Object(stripe_esm[\"a\" /* loadStripe */])('pk_test_TYooMQauvdEDq54NiTphI7jx');var Cart_Cart=function Cart(){var state=Object(es[\"c\" /* useSelector */])(function(state){return state;});var dispatch=Object(es[\"b\" /* useDispatch */])();var _useLazyQuery=Object(react_hooks_esm[\"a\" /* useLazyQuery */])(QUERY_CHECKOUT),_useLazyQuery2=Object(slicedToArray[\"a\" /* default */])(_useLazyQuery,2),getCheckout=_useLazyQuery2[0],data=_useLazyQuery2[1].data;Object(react[\"useEffect\"])(function(){if(data){stripePromise.then(function(res){res.redirectToCheckout({sessionId:data.checkout.session});});}},[data]);Object(react[\"useEffect\"])(function(){function getCart(){return _getCart.apply(this,arguments);}function _getCart(){_getCart=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var cart;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return idbPromise('cart','get');case 2:cart=_context.sent;dispatch({type:ADD_MULTIPLE_TO_CART,products:Object(toConsumableArray[\"a\" /* default */])(cart)});case 4:case\"end\":return _context.stop();}}},_callee);}));return _getCart.apply(this,arguments);};if(!state.cart.length){getCart();}},[state.cart.length,dispatch]);function toggleCart(){dispatch({type:TOGGLE_CART});}function calculateTotal(){var sum=0;state.cart.forEach(function(item){sum+=item.price*item.purchaseQuantity;});return sum.toFixed(2);}function submitCheckout(){var productIds=[];state.cart.forEach(function(item){for(var i=0;i<item.purchaseQuantity;i++){productIds.push(item._id);}});getCheckout({variables:{products:productIds}});}if(!state.cartOpen){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"cart-closed\",onClick:toggleCart,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{role:\"img\",\"aria-label\":\"trash\",children:\"\\uD83D\\uDED2\"})});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"cart\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"close\",onClick:toggleCart,children:\"[close]\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Shopping Cart\"}),state.cart.length?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[state.cart.map(function(item){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_CartItem,{item:item},item._id);}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex-row space-between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"strong\",{children:[\"Total: $\",calculateTotal()]}),auth.loggedIn()?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:submitCheckout,children:\"Checkout\"}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"(log in to check out)\"})]})]}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h3\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{role:\"img\",\"aria-label\":\"shocked\",children:\"\\uD83D\\uDE31\"}),\"You haven't added anything to your cart yet!\"]})]});};/* harmony default export */ var components_Cart = (Cart_Cart);\n// CONCATENATED MODULE: ./src/pages/Home.js\nvar Home_Home=function Home(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_CategoryMenu,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_ProductList,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Cart,{})]});};/* harmony default export */ var pages_Home = (Home_Home);\n// CONCATENATED MODULE: ./src/pages/Detail.js\nfunction Detail(){var dispatch=Object(es[\"b\" /* useDispatch */])();var state=Object(es[\"c\" /* useSelector */])(function(state){return state;});var _useParams=Object(react_router[\"f\" /* useParams */])(),id=_useParams.id;var _useState=Object(react[\"useState\"])({}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),currentProduct=_useState2[0],setCurrentProduct=_useState2[1];var _useQuery=Object(react_hooks_esm[\"c\" /* useQuery */])(QUERY_PRODUCTS),loading=_useQuery.loading,data=_useQuery.data;var products=state.products,cart=state.cart;Object(react[\"useEffect\"])(function(){// already in global store\nif(products.length){setCurrentProduct(products.find(function(product){return product._id===id;}));}// retrieved from server\nelse if(data){dispatch({type:UPDATE_PRODUCTS,products:data.products});data.products.forEach(function(product){idbPromise('products','put',product);});}// get cache from idb\nelse if(!loading){idbPromise('products','get').then(function(indexedProducts){dispatch({type:UPDATE_PRODUCTS,products:indexedProducts});});}},[products,data,loading,dispatch,id]);var addToCart=function addToCart(){var itemInCart=cart.find(function(cartItem){return cartItem._id===id;});if(itemInCart){dispatch({type:UPDATE_CART_QUANTITY,_id:id,purchaseQuantity:parseInt(itemInCart.purchaseQuantity)+1});idbPromise('cart','put',Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},itemInCart),{},{purchaseQuantity:parseInt(itemInCart.purchaseQuantity)+1}));}else{dispatch({type:ADD_TO_CART,product:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},currentProduct),{},{purchaseQuantity:1})});idbPromise('cart','put',Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},currentProduct),{},{purchaseQuantity:1}));}};var removeFromCart=function removeFromCart(){dispatch({type:REMOVE_FROM_CART,_id:currentProduct._id});idbPromise('cart','delete',Object(objectSpread2[\"a\" /* default */])({},currentProduct));};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[currentProduct&&cart?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"container my-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/\",children:\"\\u2190 Back to Products\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:currentProduct.name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:currentProduct.description}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"strong\",{children:\"Price:\"}),\"$\",currentProduct.price,\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:addToCart,children:\"Add to Cart\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{disabled:!cart.find(function(p){return p._id===currentProduct._id;}),onClick:removeFromCart,children:\"Remove from Cart\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"/images/\".concat(currentProduct.image),alt:currentProduct.name})]}):null,loading?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:spinner,alt:\"loading\"}):null,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Cart,{})]});};/* harmony default export */ var pages_Detail = (Detail);\n// CONCATENATED MODULE: ./src/components/Jumbotron/index.js\nfunction Jumbotron(_ref){var children=_ref.children;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{height:560,clear:\"both\",paddingTop:120,textAlign:\"center\"},children:children});}/* harmony default export */ var components_Jumbotron = (Jumbotron);\n// CONCATENATED MODULE: ./src/pages/NoMatch.js\nvar NoMatch_NoMatch=function NoMatch(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(components_Jumbotron,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"404 Page Not Found\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{role:\"img\",\"aria-label\":\"Face With Rolling Eyes Emoji\",children:\"\\uD83D\\uDE44\"})})]})});};/* harmony default export */ var pages_NoMatch = (NoMatch_NoMatch);\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(28);\n\n// CONCATENATED MODULE: ./src/utils/mutations.js\nvar mutations_templateObject,mutations_templateObject2,mutations_templateObject3;var LOGIN=Object(lib[\"a\" /* default */])(mutations_templateObject||(mutations_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  mutation login($email: String!, $password: String!) {\\n    login(email: $email, password: $password) {\\n      token\\n      user {\\n        _id\\n      }\\n    }\\n  }\\n\"])));var ADD_ORDER=Object(lib[\"a\" /* default */])(mutations_templateObject2||(mutations_templateObject2=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  mutation addOrder($products: [ID]!) {\\n    addOrder(products: $products) {\\n      purchaseDate\\n      products {\\n        _id\\n      name\\n      description\\n      price\\n      quantity\\n      category {\\n        name\\n      } \\n      }\\n    }\\n  }\\n\"])));var ADD_USER=Object(lib[\"a\" /* default */])(mutations_templateObject3||(mutations_templateObject3=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  mutation addUser($firstName: String!, $lastName: String!, $email: String!, $password: String!) {\\n    addUser(firstName: $firstName, lastName: $lastName, email: $email, password: $password) {\\n      token\\n      user {\\n        _id\\n      }\\n    }\\n  }\\n\"])));\n// CONCATENATED MODULE: ./src/pages/Login.js\nfunction Login(props){var _useState=Object(react[\"useState\"])({email:'',password:''}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),formState=_useState2[0],setFormState=_useState2[1];var _useMutation=Object(react_hooks_esm[\"b\" /* useMutation */])(LOGIN),_useMutation2=Object(slicedToArray[\"a\" /* default */])(_useMutation,2),login=_useMutation2[0],error=_useMutation2[1].error;var handleFormSubmit=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(event){var mutationResponse,token;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;_context.next=4;return login({variables:{email:formState.email,password:formState.password}});case 4:mutationResponse=_context.sent;token=mutationResponse.data.login.token;auth.login(token);_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);console.log(_context.t0);case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return function handleFormSubmit(_x){return _ref.apply(this,arguments);};}();var handleChange=function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setFormState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},formState),{},Object(defineProperty[\"a\" /* default */])({},name,value)));};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"container my-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/signup\",children:\"\\u2190 Go to Signup\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Login\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleFormSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex-row space-between my-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"email\",children:\"Email address:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"youremail@test.com\",name:\"email\",type:\"email\",id:\"email\",onChange:handleChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex-row space-between my-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"pwd\",children:\"Password:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"******\",name:\"password\",type:\"password\",id:\"pwd\",onChange:handleChange})]}),error?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"error-text\",children:\"The provided credentials are incorrect\"})}):null,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"flex-row flex-end\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:\"Submit\"})})]})]});}/* harmony default export */ var pages_Login = (Login);\n// CONCATENATED MODULE: ./src/pages/Signup.js\nfunction Signup(props){var _useState=Object(react[\"useState\"])({email:'',password:''}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),formState=_useState2[0],setFormState=_useState2[1];var _useMutation=Object(react_hooks_esm[\"b\" /* useMutation */])(ADD_USER),_useMutation2=Object(slicedToArray[\"a\" /* default */])(_useMutation,1),addUser=_useMutation2[0];var handleFormSubmit=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(event){var mutationResponse,token;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return addUser({variables:{email:formState.email,password:formState.password,firstName:formState.firstName,lastName:formState.lastName}});case 3:mutationResponse=_context.sent;token=mutationResponse.data.addUser.token;auth.login(token);case 6:case\"end\":return _context.stop();}}},_callee);}));return function handleFormSubmit(_x){return _ref.apply(this,arguments);};}();var handleChange=function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setFormState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},formState),{},Object(defineProperty[\"a\" /* default */])({},name,value)));};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"container my-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/login\",children:\"\\u2190 Go to Login\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Signup\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleFormSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex-row space-between my-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"firstName\",children:\"First Name:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"First\",name:\"firstName\",type:\"firstName\",id:\"firstName\",onChange:handleChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex-row space-between my-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"lastName\",children:\"Last Name:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"Last\",name:\"lastName\",type:\"lastName\",id:\"lastName\",onChange:handleChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex-row space-between my-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"email\",children:\"Email:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"youremail@test.com\",name:\"email\",type:\"email\",id:\"email\",onChange:handleChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex-row space-between my-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"pwd\",children:\"Password:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"******\",name:\"password\",type:\"password\",id:\"pwd\",onChange:handleChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"flex-row flex-end\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:\"Submit\"})})]})]});}/* harmony default export */ var pages_Signup = (Signup);\n// CONCATENATED MODULE: ./src/components/Nav/index.js\nfunction Nav(){function showNavigation(){if(auth.loggedIn()){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"ul\",{className:\"flex-row\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{className:\"mx-1\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/orderHistory\",children:\"Order History\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{className:\"mx-1\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"/\",onClick:function onClick(){return auth.logout();},children:\"Logout\"})})]});}else{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"ul\",{className:\"flex-row\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{className:\"mx-1\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/signup\",children:\"Signup\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{className:\"mx-1\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/login\",children:\"Login\"})})]});}}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"header\",{className:\"flex-row px-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router_dom[\"b\" /* Link */],{to:\"/\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{role:\"img\",\"aria-label\":\"shopping bag\",children:\"\\uD83D\\uDECD\\uFE0F\"}),\"-Shop-Shop\"]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"nav\",{children:showNavigation()})]});}/* harmony default export */ var components_Nav = (Nav);\n// EXTERNAL MODULE: ./node_modules/redux/es/redux.js + 2 modules\nvar redux = __webpack_require__(52);\n\n// CONCATENATED MODULE: ./src/utils/reducers.js\nvar initialState={products:[],cart:[],cartOpen:false,categories:[],currentCategory:''};var reducers_reducer=function reducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case UPDATE_PRODUCTS:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{products:Object(toConsumableArray[\"a\" /* default */])(action.products)});case ADD_TO_CART:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{cartOpen:true,cart:[].concat(Object(toConsumableArray[\"a\" /* default */])(state.cart),[action.product])});case ADD_MULTIPLE_TO_CART:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{cart:[].concat(Object(toConsumableArray[\"a\" /* default */])(state.cart),Object(toConsumableArray[\"a\" /* default */])(action.products))});case UPDATE_CART_QUANTITY:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{cartOpen:true,cart:state.cart.map(function(product){if(action._id===product._id){product.purchaseQuantity=action.purchaseQuantity;}return product;})});case REMOVE_FROM_CART:var newState=state.cart.filter(function(product){return product._id!==action._id;});return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{cartOpen:newState.length>0,cart:newState});case CLEAR_CART:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{cartOpen:false,cart:[]});case TOGGLE_CART:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{cartOpen:!state.cartOpen});case UPDATE_CATEGORIES:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{categories:Object(toConsumableArray[\"a\" /* default */])(action.categories)});case UPDATE_CURRENT_CATEGORY:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{currentCategory:action.currentCategory});default:return state;}};/* harmony default export */ var reducers = (reducers_reducer);\n// CONCATENATED MODULE: ./src/utils/store.js\nvar store=Object(redux[\"a\" /* createStore */])(reducers_reducer);/* harmony default export */ var utils_store = (store);\n// CONCATENATED MODULE: ./src/pages/Success.js\nfunction Success(){var _useMutation=Object(react_hooks_esm[\"b\" /* useMutation */])(ADD_ORDER),_useMutation2=Object(slicedToArray[\"a\" /* default */])(_useMutation,1),addOrder=_useMutation2[0];Object(react[\"useEffect\"])(function(){function saveOrder(){return _saveOrder.apply(this,arguments);}function _saveOrder(){_saveOrder=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var cart,products,_yield$addOrder,data,productData;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return idbPromise('cart','get');case 2:cart=_context.sent;products=cart.map(function(item){return item._id;});if(!products.length){_context.next=11;break;}_context.next=7;return addOrder({variables:{products:products}});case 7:_yield$addOrder=_context.sent;data=_yield$addOrder.data;productData=data.addOrder.products;productData.forEach(function(item){idbPromise('cart','delete',item);});case 11:setTimeout(function(){window.location.assign('/');},3000);case 12:case\"end\":return _context.stop();}}},_callee);}));return _saveOrder.apply(this,arguments);}saveOrder();},[addOrder]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(components_Jumbotron,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Success!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Thank you for your purchase!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"You will now be redirected to the home page\"})]})});};/* harmony default export */ var pages_Success = (Success);\n// CONCATENATED MODULE: ./src/pages/OrderHistory.js\nfunction OrderHistory(){var _useQuery=Object(react_hooks_esm[\"c\" /* useQuery */])(QUERY_USER),data=_useQuery.data;var user;if(data){user=data.user;}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"container my-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/\",children:\"\\u2190 Back to Products\"}),user?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h2\",{children:[\"Order History for \",user.firstName,\" \",user.lastName]}),user.orders.map(function(order){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"my-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:new Date(parseInt(order.purchaseDate)).toLocaleDateString()}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"flex-row\",children:order.products.map(function(_ref,index){var _id=_ref._id,image=_ref.image,name=_ref.name,price=_ref.price;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"card px-1 py-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router_dom[\"b\" /* Link */],{to:\"/products/\".concat(_id),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{alt:name,src:\"/images/\".concat(image)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:name})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{children:[\"$\",price]})})]},index);})})]},order._id);})]}):null]})});};/* harmony default export */ var pages_OrderHistory = (OrderHistory);\n// CONCATENATED MODULE: ./src/App.js\n//bring redux\n//BEGONE\n//import { StoreProvider } from \"./utils/GlobalState\";\nvar client=new bundle_esm[\"a\" /* default */]({request:function request(operation){var token=localStorage.getItem('id_token');operation.setContext({headers:{authorization:token?\"Bearer \".concat(token):''}});},uri:'/graphql'});function App(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_common_esm[\"a\" /* ApolloProvider */],{client:client,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(es[\"a\" /* Provider */],{store:utils_store,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Nav,{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"c\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{exact:true,path:\"/\",component:pages_Home}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{exact:true,path:\"/login\",component:pages_Login}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{exact:true,path:\"/signup\",component:pages_Signup}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{exact:true,path:\"/success\",component:pages_Success}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{exact:true,path:\"/orderHistory\",component:pages_OrderHistory}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{exact:true,path:\"/products/:id\",component:pages_Detail}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{component:pages_NoMatch})]})]})})})});}/* harmony default export */ var src_App = (App);\n// CONCATENATED MODULE: ./src/serviceWorker.js\n// This optional code is used to register a service worker.\n// register() is not called by default.\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\nvar isLocalhost=Boolean(window.location.hostname==='localhost'||// [::1] is the IPv6 localhost address.\nwindow.location.hostname==='[::1]'||// 127.0.0.0/8 are considered localhost for IPv4.\nwindow.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function register(config){if( true&&'serviceWorker'in navigator){// The URL constructor is available in all browsers that support SW.\nvar publicUrl=new URL(\"\",window.location.href);if(publicUrl.origin!==window.location.origin){// Our service worker won't work if PUBLIC_URL is on a different origin\n// from what our page is served on. This might happen if a CDN is used to\n// serve assets; see https://github.com/facebook/create-react-app/issues/2374\nreturn;}window.addEventListener('load',function(){var swUrl=\"\".concat(\"\",\"/service-worker.js\");if(isLocalhost){// This is running on localhost. Let's check if a service worker still exists or not.\ncheckValidServiceWorker(swUrl,config);// Add some additional logging to localhost, pointing developers to the\n// service worker/PWA documentation.\nnavigator.serviceWorker.ready.then(function(){console.log('This web app is being served cache-first by a service '+'worker. To learn more, visit https://bit.ly/CRA-PWA');});}else{// Is not localhost. Just register service worker\nregisterValidSW(swUrl,config);}});}}function registerValidSW(swUrl,config){navigator.serviceWorker.register(swUrl).then(function(registration){registration.onupdatefound=function(){var installingWorker=registration.installing;if(installingWorker==null){return;}installingWorker.onstatechange=function(){if(installingWorker.state==='installed'){if(navigator.serviceWorker.controller){// At this point, the updated precached content has been fetched,\n// but the previous service worker will still serve the older\n// content until all client tabs are closed.\nconsole.log('New content is available and will be used when all '+'tabs for this page are closed. See https://bit.ly/CRA-PWA.');// Execute callback\nif(config&&config.onUpdate){config.onUpdate(registration);}}else{// At this point, everything has been precached.\n// It's the perfect time to display a\n// \"Content is cached for offline use.\" message.\nconsole.log('Content is cached for offline use.');// Execute callback\nif(config&&config.onSuccess){config.onSuccess(registration);}}}};};}).catch(function(error){console.error('Error during service worker registration:',error);});}function checkValidServiceWorker(swUrl,config){// Check if the service worker can be found. If it can't reload the page.\nfetch(swUrl,{headers:{'Service-Worker':'script'}}).then(function(response){// Ensure service worker exists, and that we really are getting a JS file.\nvar contentType=response.headers.get('content-type');if(response.status===404||contentType!=null&&contentType.indexOf('javascript')===-1){// No service worker found. Probably a different app. Reload the page.\nnavigator.serviceWorker.ready.then(function(registration){registration.unregister().then(function(){window.location.reload();});});}else{// Service worker found. Proceed as normal.\nregisterValidSW(swUrl,config);}}).catch(function(){console.log('No internet connection found. App is running in offline mode.');});}function unregister(){if('serviceWorker'in navigator){navigator.serviceWorker.ready.then(function(registration){registration.unregister();}).catch(function(error){console.error(error.message);});}}\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nregister();\n\n/***/ })\n\n},[[69,1,2]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\Jokah\\Desktop\\Projects\\MV Redux Store\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\Jokah\\Desktop\\Projects\\MV Redux Store\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\Jokah\\Desktop\\Projects\\MV Redux Store\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\Jokah\\Desktop\\Projects\\MV Redux Store\\client\\src\\index.css","C:\\Users\\Jokah\\Desktop\\Projects\\MV Redux Store\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\Jokah\\Desktop\\Projects\\MV Redux Store\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\Jokah\\Desktop\\Projects\\MV Redux Store\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\Jokah\\Desktop\\Projects\\MV Redux Store\\client\\src\\components\\Cart\\style.css","C:/Users/Jokah/Desktop/Projects/MV Redux Store/client/src/utils/helpers.js","C:/Users/Jokah/Desktop/Projects/MV Redux Store/client/src/utils/actions.js","C:/Users/Jokah/Desktop/Projects/MV Redux Store/client/src/components/ProductItem/index.js","C:/Users/Jokah/Desktop/Projects/MV Redux Store/client/src/utils/queries.js","C:\\Users\\Jokah\\Desktop\\Projects\\MV Redux Store\\client\\node_modules\\url-loader\\dist\\cjs.js??ref--5-oneOf-1!C:\\Users\\Jokah\\Desktop\\Projects\\MV Redux Store\\client\\src\\assets\\spinner.gif","C:/Users/Jokah/Desktop/Projects/MV Redux Store/client/src/components/ProductList/index.js","C:/Users/Jokah/Desktop/Projects/MV Redux Store/client/src/components/CategoryMenu/index.js","C:/Users/Jokah/Desktop/Projects/MV Redux Store/client/src/components/CartItem/index.js","C:/Users/Jokah/Desktop/Projects/MV Redux Store/client/src/utils/auth.js","C:/Users/Jokah/Desktop/Projects/MV Redux Store/client/src/components/Cart/index.js","C:/Users/Jokah/Desktop/Projects/MV Redux Store/client/src/pages/Home.js","C:/Users/Jokah/Desktop/Projects/MV Redux Store/client/src/pages/Detail.js","C:/Users/Jokah/Desktop/Projects/MV Redux Store/client/src/components/Jumbotron/index.js","C:/Users/Jokah/Desktop/Projects/MV Redux Store/client/src/pages/NoMatch.js","C:/Users/Jokah/Desktop/Projects/MV Redux Store/client/src/utils/mutations.js","C:/Users/Jokah/Desktop/Projects/MV Redux Store/client/src/pages/Login.js","C:/Users/Jokah/Desktop/Projects/MV Redux Store/client/src/pages/Signup.js","C:/Users/Jokah/Desktop/Projects/MV Redux Store/client/src/components/Nav/index.js","C:/Users/Jokah/Desktop/Projects/MV Redux Store/client/src/utils/reducers.js","C:/Users/Jokah/Desktop/Projects/MV Redux Store/client/src/utils/store.js","C:/Users/Jokah/Desktop/Projects/MV Redux Store/client/src/pages/Success.js","C:/Users/Jokah/Desktop/Projects/MV Redux Store/client/src/pages/OrderHistory.js","C:/Users/Jokah/Desktop/Projects/MV Redux Store/client/src/App.js","C:/Users/Jokah/Desktop/Projects/MV Redux Store/client/src/serviceWorker.js","C:/Users/Jokah/Desktop/Projects/MV Redux Store/client/src/index.js"],"names":["pluralize","name","count","idbPromise","storeName","method","object","Promise","resolve","reject","request","window","indexedDB","open","db","tx","store","onupgradeneeded","e","result","createObjectStore","keyPath","onerror","console","log","onsuccess","transaction","objectStore","put","all","getAll","delete","_id","oncomplete","close","UPDATE_PRODUCTS","ADD_TO_CART","ADD_MULTIPLE_TO_CART","REMOVE_FROM_CART","CLEAR_CART","UPDATE_CART_QUANTITY","TOGGLE_CART","UPDATE_CATEGORIES","UPDATE_CURRENT_CATEGORY","ProductItem","item","dispatch","useDispatch","state","useSelector","image","price","quantity","cart","addToCart","itemInCart","find","cartItem","type","purchaseQuantity","parseInt","product","QUERY_PRODUCTS","gql","QUERY_CHECKOUT","QUERY_ALL_PRODUCTS","QUERY_CATEGORIES","QUERY_USER","ProductList","currentCategory","useQuery","loading","data","useEffect","products","forEach","then","filterProducts","filter","category","length","map","spinner","CategoryMenu","categories","categoryData","handleClick","id","CartItem","removeFromCart","onChange","value","target","AuthService","decode","getToken","token","isTokenExpired","decoded","exp","Date","now","err","localStorage","getItem","idToken","setItem","location","assign","removeItem","stripePromise","loadStripe","Cart","useLazyQuery","getCheckout","res","redirectToCheckout","sessionId","checkout","session","getCart","toggleCart","calculateTotal","sum","toFixed","submitCheckout","productIds","i","push","variables","cartOpen","Auth","loggedIn","Home","Detail","useParams","useState","currentProduct","setCurrentProduct","indexedProducts","description","p","Jumbotron","children","height","clear","paddingTop","textAlign","NoMatch","LOGIN","ADD_ORDER","ADD_USER","Login","props","email","password","formState","setFormState","useMutation","login","error","handleFormSubmit","event","preventDefault","mutationResponse","handleChange","Signup","addUser","firstName","lastName","Nav","showNavigation","logout","initialState","reducer","action","newState","createStore","Success","addOrder","saveOrder","productData","setTimeout","OrderHistory","user","orders","order","purchaseDate","toLocaleDateString","index","client","ApolloClient","operation","setContext","headers","authorization","uri","App","isLocalhost","Boolean","hostname","match","register","config","process","navigator","publicUrl","URL","href","origin","addEventListener","swUrl","checkValidServiceWorker","serviceWorker","ready","registerValidSW","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","fetch","response","contentType","get","status","indexOf","unregister","reload","message","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","export function pluralize(name, count) {\r\n  if (count === 1) {\r\n    return name;\r\n  }\r\n  return name + 's';\r\n}\r\n\r\nexport function idbPromise(storeName, method, object) {\r\n  return new Promise((resolve, reject) => {\r\n    const request = window.indexedDB.open('shop-shop', 1);\r\n    let db, tx, store;\r\n    request.onupgradeneeded = function(e) {\r\n      const db = request.result;\r\n      db.createObjectStore('products', { keyPath: '_id' });\r\n      db.createObjectStore('categories', { keyPath: '_id' });\r\n      db.createObjectStore('cart', { keyPath: '_id' });\r\n    };\r\n\r\n    request.onerror = function(e) {\r\n      console.log('There was an error');\r\n    };\r\n\r\n    request.onsuccess = function(e) {\r\n      db = request.result;\r\n      tx = db.transaction(storeName, 'readwrite');\r\n      store = tx.objectStore(storeName);\r\n\r\n      db.onerror = function(e) {\r\n        console.log('error', e);\r\n      };\r\n\r\n      switch (method) {\r\n        case 'put':\r\n          store.put(object);\r\n          resolve(object);\r\n          break;\r\n        case 'get':\r\n          const all = store.getAll();\r\n          all.onsuccess = function() {\r\n            resolve(all.result);\r\n          };\r\n          break;\r\n        case 'delete':\r\n          store.delete(object._id);\r\n          break;\r\n        default:\r\n          console.log('No valid method');\r\n          break;\r\n      }\r\n\r\n      tx.oncomplete = function() {\r\n        db.close();\r\n      };\r\n    };\r\n  });\r\n}\r\n","export const UPDATE_PRODUCTS = \"UPDATE_PRODUCTS\";\r\n\r\nexport const ADD_TO_CART = \"ADD_TO_CART\";\r\nexport const ADD_MULTIPLE_TO_CART = \"ADD_MULTIPLE_TO_CART\";\r\nexport const REMOVE_FROM_CART = \"REMOVE_FROM_CART\";\r\nexport const CLEAR_CART = \"CLEAR_CART\";\r\nexport const UPDATE_CART_QUANTITY = \"UPDATE_CART_QUANTITY\";\r\nexport const TOGGLE_CART = \"TOGGLE_CART\";\r\n\r\nexport const UPDATE_CATEGORIES = \"UPDATE_CATEGORIES\";\r\nexport const UPDATE_CURRENT_CATEGORY = \"UPDATE_CURRENT_CATEGORY\";\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { pluralize } from \"../../utils/helpers\"\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { ADD_TO_CART, UPDATE_CART_QUANTITY } from \"../../utils/actions\";\r\nimport { idbPromise } from \"../../utils/helpers\";\r\n\r\nfunction ProductItem(item) {\r\n  const dispatch = useDispatch();\r\n  const state = useSelector((state) => state);\r\n\r\n  const {\r\n    image,\r\n    name,\r\n    _id,\r\n    price,\r\n    quantity\r\n  } = item;\r\n\r\n  const { cart } = state\r\n\r\n  const addToCart = () => {\r\n    const itemInCart = cart.find((cartItem) => cartItem._id === _id)\r\n    if (itemInCart) {\r\n      dispatch({\r\n        type: UPDATE_CART_QUANTITY,\r\n        _id: _id,\r\n        purchaseQuantity: parseInt(itemInCart.purchaseQuantity) + 1\r\n      });\r\n      idbPromise('cart', 'put', {\r\n        ...itemInCart,\r\n        purchaseQuantity: parseInt(itemInCart.purchaseQuantity) + 1\r\n      });\r\n    } else {\r\n      dispatch({\r\n        type: ADD_TO_CART,\r\n        product: { ...item, purchaseQuantity: 1 }\r\n      });\r\n      idbPromise('cart', 'put', { ...item, purchaseQuantity: 1 });\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"card px-1 py-1\">\r\n      <Link to={`/products/${_id}`}>\r\n        <img\r\n          alt={name}\r\n          src={`/images/${image}`}\r\n        />\r\n        <p>{name}</p>\r\n      </Link>\r\n      <div>\r\n        <div>{quantity} {pluralize(\"item\", quantity)} in stock</div>\r\n        <span>${price}</span>\r\n      </div>\r\n      <button onClick={addToCart}>Add to cart</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProductItem;\r\n","import gql from 'graphql-tag';\r\n\r\nexport const QUERY_PRODUCTS = gql`\r\n  query getProducts($category: ID) {\r\n    products(category: $category) {\r\n      _id\r\n      name\r\n      description\r\n      price\r\n      quantity\r\n      image\r\n      category {\r\n        _id\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const QUERY_CHECKOUT = gql`\r\n  query getCheckout($products: [ID]!) {\r\n    checkout(products: $products) {\r\n      session\r\n    }\r\n  }\r\n`;\r\n\r\nexport const QUERY_ALL_PRODUCTS = gql`\r\n  {\r\n    products {\r\n      _id\r\n      name\r\n      description\r\n      price\r\n      quantity\r\n      category {\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const QUERY_CATEGORIES = gql`\r\n{\r\n  categories {\r\n    _id\r\n    name\r\n  }\r\n}\r\n`;\r\n\r\nexport const QUERY_USER = gql`\r\n{\r\n  user {\r\n    firstName\r\n    lastName\r\n    orders {\r\n      _id\r\n      purchaseDate\r\n      products {\r\n        _id\r\n        name\r\n        description\r\n        price\r\n        quantity\r\n        image\r\n      }\r\n    }\r\n  }\r\n}\r\n`;","export default __webpack_public_path__ + \"static/media/spinner.689d9a07.gif\";","import React, { useEffect } from \"react\";\r\nimport ProductItem from \"../ProductItem\";\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { UPDATE_PRODUCTS } from \"../../utils/actions\";\r\nimport { useQuery } from '@apollo/react-hooks';\r\nimport { QUERY_PRODUCTS } from \"../../utils/queries\";\r\nimport { idbPromise } from \"../../utils/helpers\";\r\nimport spinner from \"../../assets/spinner.gif\"\r\n\r\nfunction ProductList() {\r\n  const dispatch = useDispatch();\r\n  const state = useSelector((state) => state);\r\n\r\n  const { currentCategory } = state;\r\n\r\n  const { loading, data } = useQuery(QUERY_PRODUCTS);\r\n\r\n  useEffect(() => {\r\n    if(data) {\r\n      dispatch({\r\n           type: UPDATE_PRODUCTS,\r\n          products: data.products\r\n        });\r\n        data.products.forEach((product) => {\r\n          idbPromise('products', 'put', product);\r\n        });\r\n    } else if (!loading) {\r\n      idbPromise('products', 'get').then((products) => {\r\n        dispatch({\r\n          type: UPDATE_PRODUCTS,\r\n         products: products\r\n       });\r\n      });\r\n    }\r\n  }, [data, loading, dispatch]);\r\n\r\n  function filterProducts() {\r\n    if (!currentCategory) {\r\n      return state.products;\r\n    }\r\n\r\n    return state.products.filter(product => product.category._id === currentCategory);\r\n  }\r\n\r\n  return (\r\n    <div className=\"my-2\">\r\n      <h2>Our Products:</h2>\r\n      {state.products.length ? (\r\n        <div className=\"flex-row\">\r\n            {filterProducts().map(product => (\r\n                <ProductItem\r\n                  key= {product._id}\r\n                  _id={product._id}\r\n                  image={product.image}\r\n                  name={product.name}\r\n                  price={product.price}\r\n                  quantity={product.quantity}\r\n                />\r\n            ))}\r\n        </div>\r\n      ) : (\r\n        <h3>You haven't added any products yet!</h3>\r\n      )}\r\n      { loading ? \r\n      <img src={spinner} alt=\"loading\" />: null}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProductList;\r\n","import React, { useEffect } from 'react';\r\nimport { useQuery } from '@apollo/react-hooks';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { UPDATE_CATEGORIES, UPDATE_CURRENT_CATEGORY } from '../../utils/actions';\r\nimport { QUERY_CATEGORIES } from '../../utils/queries';\r\nimport { idbPromise } from '../../utils/helpers';\r\n\r\nfunction CategoryMenu() {\r\n  const dispatch = useDispatch();\r\n  const state = useSelector((state) => state);\r\n\r\n  const { categories } = state;\r\n\r\n  const { loading, data: categoryData } = useQuery(QUERY_CATEGORIES);\r\n\r\n  useEffect(() => {\r\n    if (categoryData) {\r\n      dispatch({\r\n        type: UPDATE_CATEGORIES,\r\n        categories: categoryData.categories\r\n      });\r\n      categoryData.categories.forEach(category => {\r\n        idbPromise('categories', 'put', category);\r\n      });\r\n    } else if (!loading) {\r\n      idbPromise('categories', 'get').then(categories => {\r\n        dispatch({\r\n          type: UPDATE_CATEGORIES,\r\n          categories: categories\r\n        });\r\n      });\r\n    }\r\n  }, [categoryData, loading, dispatch]);\r\n\r\n  const handleClick = id => {\r\n    dispatch({\r\n      type: UPDATE_CURRENT_CATEGORY,\r\n      currentCategory: id\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Choose a Category:</h2>\r\n      {categories.map(item => (\r\n        <button\r\n          key={item._id}\r\n          onClick={() => {\r\n            handleClick(item._id);\r\n          }}\r\n        >\r\n          {item.name}\r\n        </button>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CategoryMenu;\r\n","import React from 'react';\r\nimport { REMOVE_FROM_CART, UPDATE_CART_QUANTITY } from \"../../utils/actions\";\r\nimport { idbPromise } from \"../../utils/helpers\";\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nconst CartItem = ({ item }) => {\r\n\r\n  const state = useSelector((state) => {\r\n    return state\r\n  });\r\n  const dispatch = useDispatch();\r\n\r\n  const removeFromCart = item => {\r\n    dispatch({\r\n      type: REMOVE_FROM_CART,\r\n      _id: item._id\r\n    });\r\n    idbPromise('cart', 'delete', { ...item });\r\n\r\n  };\r\n\r\n  const onChange = (e) => {\r\n    const value = e.target.value;\r\n    if (value === '0') {\r\n      dispatch({\r\n        type: REMOVE_FROM_CART,\r\n        _id: item._id\r\n      });\r\n      idbPromise('cart', 'delete', { ...item });\r\n\r\n    } else {\r\n      dispatch({\r\n        type: UPDATE_CART_QUANTITY,\r\n        _id: item._id,\r\n        purchaseQuantity: parseInt(value)\r\n      });\r\n      idbPromise('cart', 'put', { ...item, purchaseQuantity: parseInt(value) });\r\n\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex-row\">\r\n      <div>\r\n        <img\r\n          src={`/images/${item.image}`}\r\n          alt=\"\"\r\n        />\r\n      </div>\r\n      <div>\r\n        <div>{item.name}, ${item.price}</div>\r\n        <div>\r\n          <span>Qty:</span>\r\n          <input\r\n            type=\"number\"\r\n            placeholder=\"1\"\r\n            value={item.purchaseQuantity}\r\n            onChange={onChange}\r\n          />\r\n          <span\r\n            role=\"img\"\r\n            aria-label=\"trash\"\r\n            onClick={() => removeFromCart(item)}\r\n          >\r\n            🗑️\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CartItem;","import decode from 'jwt-decode';\r\n\r\nclass AuthService {\r\n  getProfile() {\r\n    return decode(this.getToken());\r\n  }\r\n\r\n  loggedIn() {\r\n    // Checks if there is a saved token and it's still valid\r\n    const token = this.getToken();\r\n    return !!token && !this.isTokenExpired(token);\r\n  }\r\n\r\n  isTokenExpired(token) {\r\n    try {\r\n      const decoded = decode(token);\r\n      if (decoded.exp < Date.now() / 1000) {\r\n        return true;\r\n      } else return false;\r\n    } catch (err) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  getToken() {\r\n    // Retrieves the user token from localStorage\r\n    return localStorage.getItem('id_token');\r\n  }\r\n\r\n  login(idToken) {\r\n    // Saves user token to localStorage\r\n    localStorage.setItem('id_token', idToken);\r\n\r\n    window.location.assign('/');\r\n  }\r\n\r\n  logout() {\r\n    // Clear user token and profile data from localStorage\r\n    localStorage.removeItem('id_token');\r\n    // this will reload the page and reset the state of the application\r\n    window.location.assign('/');\r\n  }\r\n}\r\n\r\nexport default new AuthService();\r\n","import React, { useEffect } from \"react\";\r\nimport { loadStripe } from \"@stripe/stripe-js\";\r\nimport { useLazyQuery } from '@apollo/react-hooks';\r\nimport { QUERY_CHECKOUT } from \"../../utils/queries\"\r\nimport { idbPromise } from \"../../utils/helpers\"\r\nimport CartItem from \"../CartItem\";\r\nimport Auth from \"../../utils/auth\";\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { TOGGLE_CART, ADD_MULTIPLE_TO_CART } from \"../../utils/actions\";\r\nimport \"./style.css\";\r\n\r\nconst stripePromise = loadStripe('pk_test_TYooMQauvdEDq54NiTphI7jx');\r\n\r\nconst Cart = () => {\r\n  \r\n  const state = useSelector((state) => {\r\n    return state\r\n  });\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const [getCheckout, { data }] = useLazyQuery(QUERY_CHECKOUT);\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      stripePromise.then((res) => {\r\n        res.redirectToCheckout({ sessionId: data.checkout.session })\r\n      })\r\n    }\r\n  }, [data]);\r\n\r\n  useEffect(() => {\r\n    async function getCart() {\r\n      const cart = await idbPromise('cart', 'get');\r\n      dispatch({ type: ADD_MULTIPLE_TO_CART, products: [...cart] });\r\n    };\r\n\r\n    if (!state.cart.length) {\r\n      getCart();\r\n    }\r\n  }, [state.cart.length, dispatch]);\r\n\r\n  function toggleCart() {\r\n    dispatch({ type: TOGGLE_CART });\r\n  }\r\n\r\n  function calculateTotal() {\r\n    let sum = 0;\r\n    state.cart.forEach(item => {\r\n      sum += item.price * item.purchaseQuantity;\r\n    });\r\n    return sum.toFixed(2);\r\n  }\r\n\r\n  function submitCheckout() {\r\n    const productIds = [];\r\n\r\n    state.cart.forEach((item) => {\r\n      for (let i = 0; i < item.purchaseQuantity; i++) {\r\n        productIds.push(item._id);\r\n      }\r\n    });\r\n\r\n    getCheckout({\r\n      variables: { products: productIds }\r\n    });\r\n  }\r\n\r\n  if (!state.cartOpen) {\r\n    return (\r\n      <div className=\"cart-closed\" onClick={toggleCart}>\r\n        <span\r\n          role=\"img\"\r\n          aria-label=\"trash\">🛒</span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"cart\">\r\n      <div className=\"close\" onClick={toggleCart}>[close]</div>\r\n      <h2>Shopping Cart</h2>\r\n      {state.cart.length ? (\r\n        <div>\r\n          {state.cart.map(item => (\r\n            <CartItem key={item._id} item={item} />\r\n          ))}\r\n\r\n          <div className=\"flex-row space-between\">\r\n            <strong>Total: ${calculateTotal()}</strong>\r\n\r\n            {\r\n              Auth.loggedIn() ?\r\n                <button onClick={submitCheckout}>\r\n                  Checkout\r\n              </button>\r\n                :\r\n                <span>(log in to check out)</span>\r\n            }\r\n          </div>\r\n        </div>\r\n      ) : (\r\n          <h3>\r\n            <span role=\"img\" aria-label=\"shocked\">\r\n              😱\r\n          </span>\r\n          You haven't added anything to your cart yet!\r\n          </h3>\r\n        )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","import React from \"react\";\r\nimport ProductList from \"../components/ProductList\";\r\nimport CategoryMenu from \"../components/CategoryMenu\";\r\nimport Cart from \"../components/Cart\";\r\n\r\nconst Home = () => {\r\n  return (\r\n    <div className=\"container\">\r\n      <CategoryMenu />\r\n      <ProductList />\r\n      <Cart />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport { useQuery } from '@apollo/react-hooks';\r\n\r\nimport Cart from \"../components/Cart\";\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  REMOVE_FROM_CART,\r\n  UPDATE_CART_QUANTITY,\r\n  ADD_TO_CART,\r\n  UPDATE_PRODUCTS,\r\n} from \"../utils/actions\";\r\nimport { QUERY_PRODUCTS } from \"../utils/queries\";\r\nimport { idbPromise } from \"../utils/helpers\";\r\nimport spinner from '../assets/spinner.gif'\r\n\r\nfunction Detail() {\r\n  const dispatch = useDispatch();\r\n  const state = useSelector((state) => state);\r\n  const { id } = useParams();\r\n\r\n  const [currentProduct, setCurrentProduct] = useState({});\r\n\r\n  const { loading, data } = useQuery(QUERY_PRODUCTS);\r\n\r\n  const { products, cart } = state;\r\n\r\n  useEffect(() => {\r\n    // already in global store\r\n    if (products.length) {\r\n      setCurrentProduct(products.find(product => product._id === id));\r\n    } \r\n    // retrieved from server\r\n    else if (data) {\r\n      dispatch({\r\n        type: UPDATE_PRODUCTS,\r\n        products: data.products\r\n      });\r\n\r\n      data.products.forEach((product) => {\r\n        idbPromise('products', 'put', product);\r\n      });\r\n    }\r\n    // get cache from idb\r\n    else if (!loading) {\r\n      idbPromise('products', 'get').then((indexedProducts) => {\r\n        dispatch({\r\n          type: UPDATE_PRODUCTS,\r\n          products: indexedProducts\r\n        });\r\n      });\r\n    }\r\n  }, [products, data, loading, dispatch, id]);\r\n\r\n  const addToCart = () => {\r\n    const itemInCart = cart.find((cartItem) => cartItem._id === id)\r\n    if (itemInCart) {\r\n      dispatch({\r\n        type: UPDATE_CART_QUANTITY,\r\n        _id: id,\r\n        purchaseQuantity: parseInt(itemInCart.purchaseQuantity) + 1\r\n      });\r\n      idbPromise('cart', 'put', {\r\n        ...itemInCart,\r\n        purchaseQuantity: parseInt(itemInCart.purchaseQuantity) + 1\r\n      });\r\n    } else {\r\n      dispatch({\r\n        type: ADD_TO_CART,\r\n        product: { ...currentProduct, purchaseQuantity: 1 }\r\n      });\r\n      idbPromise('cart', 'put', { ...currentProduct, purchaseQuantity: 1 });\r\n\r\n    }\r\n  }\r\n\r\n  const removeFromCart = () => {\r\n    dispatch({\r\n      type: REMOVE_FROM_CART,\r\n      _id: currentProduct._id\r\n    });\r\n\r\n    idbPromise('cart', 'delete', { ...currentProduct });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {currentProduct && cart ? (\r\n        <div className=\"container my-1\">\r\n          <Link to=\"/\">\r\n            ← Back to Products\r\n          </Link>\r\n\r\n          <h2>{currentProduct.name}</h2>\r\n\r\n          <p>\r\n            {currentProduct.description}\r\n          </p>\r\n\r\n          <p>\r\n            <strong>Price:</strong>\r\n            ${currentProduct.price}\r\n            {\" \"}\r\n            <button onClick={addToCart}>\r\n              Add to Cart\r\n            </button>\r\n            <button \r\n              disabled={!cart.find(p => p._id === currentProduct._id)} \r\n              onClick={removeFromCart}\r\n            >\r\n              Remove from Cart\r\n            </button>\r\n          </p>\r\n\r\n          <img\r\n            src={`/images/${currentProduct.image}`}\r\n            alt={currentProduct.name}\r\n          />\r\n        </div>\r\n      ) : null}\r\n      {\r\n        loading ? <img src={spinner} alt=\"loading\" /> : null\r\n      }\r\n      <Cart />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Detail;\r\n","import React from \"react\";\r\n\r\nfunction Jumbotron({ children }) {\r\n  return (\r\n    <div\r\n      style={{ height: 560, clear: \"both\", paddingTop: 120, textAlign: \"center\" }}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Jumbotron;\r\n","import React from \"react\";\r\nimport Jumbotron from \"../components/Jumbotron\";\r\n\r\nconst NoMatch = () => {\r\n  return (\r\n    <div>\r\n      <Jumbotron>\r\n        <h1>404 Page Not Found</h1>\r\n        <h1>\r\n          <span role=\"img\" aria-label=\"Face With Rolling Eyes Emoji\">\r\n            🙄\r\n          </span>\r\n        </h1>\r\n      </Jumbotron>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NoMatch;\r\n","import gql from 'graphql-tag';\r\n\r\nexport const LOGIN = gql`\r\n  mutation login($email: String!, $password: String!) {\r\n    login(email: $email, password: $password) {\r\n      token\r\n      user {\r\n        _id\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\n\r\nexport const ADD_ORDER = gql`\r\n  mutation addOrder($products: [ID]!) {\r\n    addOrder(products: $products) {\r\n      purchaseDate\r\n      products {\r\n        _id\r\n      name\r\n      description\r\n      price\r\n      quantity\r\n      category {\r\n        name\r\n      } \r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\n\r\nexport const ADD_USER = gql`\r\n  mutation addUser($firstName: String!, $lastName: String!, $email: String!, $password: String!) {\r\n    addUser(firstName: $firstName, lastName: $lastName, email: $email, password: $password) {\r\n      token\r\n      user {\r\n        _id\r\n      }\r\n    }\r\n  }\r\n`;","import React, { useState } from \"react\";\r\nimport { useMutation } from '@apollo/react-hooks';\r\nimport { Link } from \"react-router-dom\";\r\nimport { LOGIN } from \"../utils/mutations\"\r\nimport Auth from \"../utils/auth\";\r\n\r\nfunction Login(props) {\r\n  const [formState, setFormState] = useState({ email: '', password: '' })\r\n  const [login, { error }] = useMutation(LOGIN);\r\n\r\n  const handleFormSubmit = async event => {\r\n    event.preventDefault();\r\n    try {\r\n      const mutationResponse = await login({ variables: { email: formState.email, password: formState.password } })\r\n      const token = mutationResponse.data.login.token;\r\n      Auth.login(token);\r\n    } catch (e) {\r\n      console.log(e)\r\n    }\r\n  };\r\n\r\n  const handleChange = event => {\r\n    const { name, value } = event.target;\r\n    setFormState({\r\n      ...formState,\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"container my-1\">\r\n      <Link to=\"/signup\">\r\n        ← Go to Signup\r\n      </Link>\r\n\r\n      <h2>Login</h2>\r\n      <form onSubmit={handleFormSubmit}>\r\n        <div className=\"flex-row space-between my-2\">\r\n          <label htmlFor=\"email\">Email address:</label>\r\n          <input\r\n            placeholder=\"youremail@test.com\"\r\n            name=\"email\"\r\n            type=\"email\"\r\n            id=\"email\"\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div className=\"flex-row space-between my-2\">\r\n          <label htmlFor=\"pwd\">Password:</label>\r\n          <input\r\n            placeholder=\"******\"\r\n            name=\"password\"\r\n            type=\"password\"\r\n            id=\"pwd\"\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        {\r\n          error ? <div>\r\n            <p className=\"error-text\" >The provided credentials are incorrect</p>\r\n          </div> : null\r\n        }\r\n        <div className=\"flex-row flex-end\">\r\n          <button type=\"submit\">\r\n            Submit\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nexport default Login;\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useMutation } from '@apollo/react-hooks';\r\nimport Auth from \"../utils/auth\";\r\nimport { ADD_USER } from \"../utils/mutations\";\r\n\r\nfunction Signup(props) {\r\n  const [formState, setFormState] = useState({ email: '', password: '' });\r\n  const [addUser] = useMutation(ADD_USER);\r\n\r\n  const handleFormSubmit = async event => {\r\n    event.preventDefault();\r\n    const mutationResponse = await addUser({\r\n      variables: {\r\n        email: formState.email, password: formState.password,\r\n        firstName: formState.firstName, lastName: formState.lastName\r\n      }\r\n    });\r\n    const token = mutationResponse.data.addUser.token;\r\n    Auth.login(token);\r\n  };\r\n\r\n  const handleChange = event => {\r\n    const { name, value } = event.target;\r\n    setFormState({\r\n      ...formState,\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"container my-1\">\r\n      <Link to=\"/login\">\r\n        ← Go to Login\r\n      </Link>\r\n\r\n      <h2>Signup</h2>\r\n      <form onSubmit={handleFormSubmit}>\r\n        <div className=\"flex-row space-between my-2\">\r\n          <label htmlFor=\"firstName\">First Name:</label>\r\n          <input\r\n            placeholder=\"First\"\r\n            name=\"firstName\"\r\n            type=\"firstName\"\r\n            id=\"firstName\"\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div className=\"flex-row space-between my-2\">\r\n          <label htmlFor=\"lastName\">Last Name:</label>\r\n          <input\r\n            placeholder=\"Last\"\r\n            name=\"lastName\"\r\n            type=\"lastName\"\r\n            id=\"lastName\"\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div className=\"flex-row space-between my-2\">\r\n          <label htmlFor=\"email\">Email:</label>\r\n          <input\r\n            placeholder=\"youremail@test.com\"\r\n            name=\"email\"\r\n            type=\"email\"\r\n            id=\"email\"\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div className=\"flex-row space-between my-2\">\r\n          <label htmlFor=\"pwd\">Password:</label>\r\n          <input\r\n            placeholder=\"******\"\r\n            name=\"password\"\r\n            type=\"password\"\r\n            id=\"pwd\"\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div className=\"flex-row flex-end\">\r\n          <button type=\"submit\">\r\n            Submit\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n\r\n}\r\n\r\nexport default Signup;\r\n","import React from \"react\";\r\nimport Auth from \"../../utils/auth\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Nav() {\r\n\r\n  function showNavigation() {\r\n    if (Auth.loggedIn()) {\r\n      return (\r\n        <ul className=\"flex-row\">\r\n          <li className=\"mx-1\">\r\n            <Link to=\"/orderHistory\">\r\n              Order History\r\n            </Link>\r\n          </li>\r\n          <li className=\"mx-1\">\r\n            {/* this is not using the Link component to logout or user and then refresh the application to the start */}\r\n            <a href=\"/\" onClick={() => Auth.logout()}>\r\n              Logout\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      );\r\n    } else {\r\n      return (\r\n        <ul className=\"flex-row\">\r\n          <li className=\"mx-1\">\r\n            <Link to=\"/signup\">\r\n              Signup\r\n            </Link>\r\n          </li>\r\n          <li className=\"mx-1\">\r\n            <Link to=\"/login\">\r\n              Login\r\n            </Link>\r\n          </li>\r\n        </ul>\r\n      );\r\n    }\r\n  }\r\n\r\n  return (\r\n    <header className=\"flex-row px-1\">\r\n      <h1>\r\n        <Link to=\"/\">\r\n          <span role=\"img\" aria-label=\"shopping bag\">🛍️</span>\r\n          -Shop-Shop\r\n        </Link>\r\n      </h1>\r\n\r\n      <nav>\r\n        {showNavigation()}\r\n      </nav>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Nav;\r\n","import {\r\n  UPDATE_PRODUCTS,\r\n  ADD_TO_CART,\r\n  UPDATE_CART_QUANTITY,\r\n  REMOVE_FROM_CART,\r\n  ADD_MULTIPLE_TO_CART,\r\n  UPDATE_CATEGORIES,\r\n  UPDATE_CURRENT_CATEGORY,\r\n  CLEAR_CART,\r\n  TOGGLE_CART\r\n} from \"./actions\";\r\n\r\nconst initialState = {\r\n  products: [],\r\n  cart: [],\r\n  cartOpen: false,\r\n  categories: [],\r\n  currentCategory: '',\r\n}\r\n\r\nexport const reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case UPDATE_PRODUCTS:\r\n      return {\r\n        ...state,\r\n        products: [...action.products],\r\n      };\r\n\r\n    case ADD_TO_CART:\r\n      return {\r\n        ...state,\r\n        cartOpen: true,\r\n        cart: [...state.cart, action.product],\r\n      };\r\n\r\n    case ADD_MULTIPLE_TO_CART:\r\n      return {\r\n        ...state,\r\n        cart: [...state.cart, ...action.products],\r\n      };\r\n\r\n    case UPDATE_CART_QUANTITY:\r\n      return {\r\n        ...state,\r\n        cartOpen: true,\r\n        cart: state.cart.map(product => {\r\n          if (action._id === product._id) {\r\n            product.purchaseQuantity = action.purchaseQuantity\r\n          }\r\n          return product\r\n        })\r\n      };\r\n\r\n    case REMOVE_FROM_CART:\r\n      let newState = state.cart.filter(product => {\r\n        return product._id !== action._id;\r\n      });\r\n\r\n      return {\r\n        ...state,\r\n        cartOpen: newState.length > 0,\r\n        cart: newState\r\n      };\r\n\r\n    case CLEAR_CART:\r\n      return {\r\n        ...state,\r\n        cartOpen: false,\r\n        cart: []\r\n      };\r\n\r\n    case TOGGLE_CART:\r\n      return {\r\n        ...state,\r\n        cartOpen: !state.cartOpen\r\n      };\r\n\r\n    case UPDATE_CATEGORIES:\r\n      return {\r\n        ...state,\r\n        categories: [...action.categories],\r\n      };\r\n\r\n    case UPDATE_CURRENT_CATEGORY:\r\n      return {\r\n        ...state,\r\n        currentCategory: action.currentCategory\r\n      }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;","import { createStore } from \"redux\"\r\nimport { reducer }  from \"./reducers\"\r\n\r\nconst store = createStore(reducer);\r\nexport default store;","import React, { useEffect } from \"react\";\r\nimport { useMutation } from '@apollo/react-hooks';\r\nimport Jumbotron from \"../components/Jumbotron\";\r\nimport { ADD_ORDER } from \"../utils/mutations\";\r\nimport { idbPromise } from \"../utils/helpers\";\r\n\r\nfunction Success() {\r\n  const [addOrder] = useMutation(ADD_ORDER);\r\n\r\n  useEffect(() => {\r\n    async function saveOrder() {\r\n      const cart = await idbPromise('cart', 'get');\r\n      const products = cart.map(item => item._id);\r\n      \r\n      if (products.length) {\r\n        const { data } = await addOrder({ variables: { products } });\r\n        const productData = data.addOrder.products;\r\n    \r\n        productData.forEach((item) => {\r\n          idbPromise('cart', 'delete', item);\r\n        });\r\n      }\r\n        \r\n      setTimeout(() => {\r\n        window.location.assign('/');\r\n      }, 3000);\r\n    }\r\n\r\n    saveOrder();\r\n  }, [addOrder]);\r\n\r\n  return (\r\n    <div>\r\n      <Jumbotron>\r\n        <h1>Success!</h1>\r\n        <h2>\r\n          Thank you for your purchase!\r\n        </h2>\r\n        <h2>\r\n          You will now be redirected to the home page\r\n        </h2>\r\n      </Jumbotron>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Success;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { useQuery } from '@apollo/react-hooks';\r\nimport { QUERY_USER } from \"../utils/queries\";\r\n\r\nfunction OrderHistory() {\r\n  const { data } = useQuery(QUERY_USER);\r\n  let user;\r\n\r\n  if (data) {\r\n    user = data.user;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container my-1\">\r\n        <Link to=\"/\">\r\n          ← Back to Products\r\n          </Link>\r\n\r\n        {user ? (\r\n          <>\r\n            <h2>Order History for {user.firstName} {user.lastName}</h2>\r\n            {user.orders.map((order) => (\r\n              <div key={order._id} className=\"my-2\">\r\n                <h3>{new Date(parseInt(order.purchaseDate)).toLocaleDateString()}</h3>\r\n                <div className=\"flex-row\">\r\n                  {order.products.map(({ _id, image, name, price }, index) => (\r\n                    <div key={index} className=\"card px-1 py-1\">\r\n                      <Link to={`/products/${_id}`}>\r\n                        <img\r\n                          alt={name}\r\n                          src={`/images/${image}`}\r\n                        />\r\n                        <p>{name}</p>\r\n                      </Link>\r\n                      <div>\r\n                        <span>${price}</span>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </>\r\n        ) : null}\r\n\r\n      </div>\r\n\r\n    </>)\r\n\r\n};\r\n\r\nexport default OrderHistory;\r\n","import React from \"react\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport { ApolloProvider } from '@apollo/react-hooks';\r\nimport ApolloClient from 'apollo-boost';\r\n\r\nimport Home from \"./pages/Home\";\r\nimport Detail from \"./pages/Detail\";\r\nimport NoMatch from \"./pages/NoMatch\";\r\nimport Login from \"./pages/Login\";\r\nimport Signup from \"./pages/Signup\";\r\nimport Nav from \"./components/Nav\";\r\n//bring redux\r\nimport store from \"./utils/store\";\r\nimport { Provider } from \"react-redux\";\r\n//BEGONE\r\n//import { StoreProvider } from \"./utils/GlobalState\";\r\n\r\nimport Success from \"./pages/Success\";\r\nimport OrderHistory from \"./pages/OrderHistory\";\r\n\r\n\r\nconst client = new ApolloClient({\r\n  request: (operation) => {\r\n    const token = localStorage.getItem('id_token')\r\n    operation.setContext({\r\n      headers: {\r\n        authorization: token ? `Bearer ${token}` : ''\r\n      }\r\n    })\r\n  },\r\n  uri: '/graphql',\r\n})\r\n\r\nfunction App() {\r\n\r\n  return (\r\n    <ApolloProvider client={client}>\r\n      <Router>\r\n        <div>\r\n          <Provider store={store}>\r\n            <Nav />\r\n            <Switch>\r\n              <Route exact path=\"/\" component={Home} />\r\n              <Route exact path=\"/login\" component={Login} />\r\n              <Route exact path=\"/signup\" component={Signup} />\r\n              <Route exact path=\"/success\" component={Success} />\r\n              <Route exact path=\"/orderHistory\" component={OrderHistory} />\r\n              <Route exact path=\"/products/:id\" component={Detail} />\r\n              <Route component={NoMatch} />\r\n            </Switch>\r\n          </Provider>\r\n        </div>\r\n      </Router>\r\n    </ApolloProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n  // [::1] is the IPv6 localhost address.\r\n  window.location.hostname === '[::1]' ||\r\n  // 127.0.0.0/8 are considered localhost for IPv4.\r\n  window.location.hostname.match(\r\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n  )\r\n);\r\n\r\nexport function register(config) {\r\n  if (\r\n    process.env.NODE_ENV === 'production' &&\r\n    'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n            'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.register();\r\n"]}}